<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <button id="get">Get</button>
        <button id="Post">Post</button>
        <button id="Put">Put</button>
        <button id="Patch">Patch</button>
        <button id="delete_data">Delete</button>
    </div>
    <div id="sam"></div>
    <script>

        // data get from api
        let getbutton = document.querySelector('#get')
        get.addEventListener('click', () =>{
            let p = fetch("https://jsonplaceholder.typicode.com/posts")
            p.then((response)=>{
                // console.log(response.status);
                // console.log(response.ok);
                // console.log(response.headers);
                return response.json();
            }).then((value2)=>{
                for(i=0; i<=value2.length; i++){
                    console.log(value2[i]);
                }
                });
        });

        // data post from api
        Post.addEventListener('click', () =>{
        let options = {
            method : "Post",
            headers : {
                "Content-type" : "application/json"
            },
            body: 
                JSON.stringify({
                    title : 'Hardik',
                    body : 'saini',
                    userId : 1,
                }),
            }
        
        let p = fetch("https://jsonplaceholder.typicode.com/posts", options)
        p.then((response)=>{
            // console.log(response.status);
            // console.log(response.ok);
            return response.json()
        }).then((value2)=>{
            console.table(value2);
            });
        });

        // Put update data
        Put.addEventListener('click', () =>{
            let update ={
                method : "PUT",
                body : JSON.stringify({
                    body : 'update',
                    title : 'update',
                    userId : 2,
                }),
                headers : {"Content-type" : "application/json; charset=UTF-8"},
            }
            let prom = fetch("https://jsonplaceholder.typicode.com/posts/1", update);
            prom.then((response)=>{
                console.log(response.status);
                console.log(response.ok);
                return response.json()
            }).then((value)=>{
                console.table(value);
            })
        });

        // Patch
        Patch.addEventListener('click', () =>{
            let patch = {
                method : "PATCH",
                body : JSON.stringify({
                    title : "My name is hardik",
                    id : 4,
                }
                ),
                headers : {"Content-type" : "application/json; charset=UTF-8"},
            }
            let prom = fetch("https://jsonplaceholder.typicode.com/posts/1", patch)
            prom.then((response)=>{
                console.log(response.status);
                console.log(response.ok);
                return response.json();
            }).then((value)=>{
                console.log(value);
            })
        });

        // delete
        delete_data.addEventListener('click', ()=>{
            let delete_dat = {
                method : "DELETE",
                id :2,
            }
            let delete_data = fetch("https://jsonplaceholder.typicode.com/posts/1",delete_dat);
            delete_data.then((response)=>{
                return response.json();
            }).then((value)=>{
                console.log(value)
            })
        })
        

        // news api
        let a = fetch("https://newsapi.org/v2/everything?q=apple&from=2023-01-11&to=2023-01-11&sortBy=popularity&apiKey=f89eeecb024c41b18f3c1ee2bbf53443")
        a.then((response)=>{
            return response.json();
        }).then((value)=>{
            console.log(value);
        })

        
    </script>
</body>
</html>